\frame
{
  \frametitle{C 史莱姆工厂 {by \itshape E.Space}}

 	祖玛游戏

	每发射一个球需要 $w$ 的代价（只能增加某一段的长度）.

	至少要 $k$ 个连着才能消除.

	消除一段长为 $i$ 的球可以得到 $p_i$ 的分数，保证 $p_i-p_{i-1}<w$

	初始有 $n$ 段，求消完之后的最高分数.

	$n\le 150,k\le 10$.

}

\frame
{
    \frametitle{题解}

	区间 DP，考虑最后删哪些.

	这个子序列必须满足能分成两段和 $<k$ 的部分，且整个子序列的总和必须 $\ge k$.

	然后这个子序列把整个序列分成了若干段.

	每一段中最后删去的不能是和这个子序列颜色相同的.

	所以把这些都记到状态里就能转移了.

}

\frame
{
    \frametitle{题解}

    记 $f(l,r)$ 为区间 $[l,r]$ 的答案.

	$g_1(l,r,p_1)$ 为区间左端点为 $l$ 时，考虑了子序列在 $[l,r]$ 中的部分，且取了 $r$ 这段，第一部分的和为 $p_1$ 时，$[l,r]$ 区间内不在子序列中的所有区间的答案.

	$g_2(l,r,p_2)$ 为 …… 且第二部分的和为 $p_2$ 时，…… 的答案.

	然后枚举下一段/最后一段转移就行.

	颜色冲突就是在算 $f$ 的时候考虑一下 $l-1$ 和 $r+1$.

	时间复杂度 $O(n^3k^2)$.

}